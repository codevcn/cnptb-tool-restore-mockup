<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>HTML vs Canvas Text Block</title>

    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
      }

      body {
        display: flex;
      }

      .half {
        width: 50%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* -------- LEFT: HTML -------- */
      .html-frame {
        width: 600px;
        height: 400px;
        border: 22px solid #ec4899;
        position: relative;
        box-sizing: border-box;
      }

      .html-text {
        position: absolute;
        top: 0;
        left: 0;

        font-size: 72px;
        font-family: Arial, sans-serif;
        line-height: normal;
        color: #000;
        line-height: 1;

        background: rgba(255, 0, 0, 0.35);
      }

      /* -------- RIGHT: CANVAS -------- */
      .canvas-frame {
        width: 600px;
        height: 400px;
        border: 22px solid #3b82f6;
        box-sizing: border-box;
      }

      canvas {
        width: 100%;
        height: 100%;
        display: block;
      }
    </style>
  </head>

  <body>
    <!-- HTML SIDE -->
    <div class="half">
      <div class="html-frame">
        <div class="html-text">TTT</div>
      </div>
    </div>

    <!-- CANVAS SIDE -->
    <div class="half">
      <div class="canvas-frame">
        <canvas id="mainCanvas"></canvas>
      </div>
    </div>

    <script>
      const canvas = document.getElementById("mainCanvas")
      const ctx = canvas.getContext("2d")

      canvas.width = canvas.offsetWidth
      canvas.height = canvas.offsetHeight

      ctx.font = "72px Arial"
      ctx.textBaseline = "top"
      ctx.textAlign = "left"

      const text = "TTT"
      const x = 0
      const y = 0

      const metrics = ctx.measureText(text)

      // Ước lượng height (canvas KHÔNG có height chính xác như HTML)
      const textHeight = metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent

      // Vẽ background đỏ (block text)
      ctx.fillStyle = "rgba(255, 0, 0, 0.35)"
      ctx.fillRect(
        x,
        y,
        document.querySelector(".html-text").getBoundingClientRect().width,
        document.querySelector(".html-text").getBoundingClientRect().height
      )

      // Vẽ text
      ctx.fillStyle = "#000"
      ctx.fillText(text, x, y)
    </script>
  </body>
</html>
